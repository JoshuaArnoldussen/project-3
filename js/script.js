// keypress event listener
$(document).on("keypress.q", function(q) {
});

$(document).on("keypress.w", function(w) {
});

$(document).on("keypress.e", function(e) {
});

$(document).on("keypress.r", function(r) {
});

$(document).on("keypress.t", function(t) {
});

$(document).on("keypress.y", function(y) {
});

$(document).on("keypress.u", function(u) {
});

$(document).on("keypress.i", function(i) {
});

$(document).on("keypress.o", function(o) {
});

$(document).on("keypress.p", function(p) {
});
$(document).on("keypress.a", function(a) {
});

$(document).on("keypress.s", function(s) {
});

$(document).on("keypress.d", function(d) {
});

$(document).on("keypress.f", function(f) {
});

$(document).on("keypress.g", function(g) {
});

$(document).on("keypress.h", function(h) {
});

$(document).on("keypress.j", function(j) {
});

$(document).on("keypress.k", function(k) {
});

$(document).on("keypress.l", function(l) {
});
$(document).on("keypress.z", function(z) {
});

$(document).on("keypress.x", function(x) {
});

$(document).on("keypress.c", function(c) {
});

$(document).on("keypress.v", function(v) {
});

$(document).on("keypress.b", function(b) {
});

$(document).on("keypress.n", function(n) {
});

$(document).on("keypress.m", function(m) {
});
$(document).on("keypress.1", function(one) {
});
$(document).on("keypress.2", function(two) {
});
$(document).on("keypress.3", function(three) {
});
$(document).on("keypress.4", function(four) {
});
$(document).on("keypress.5", function(five) {
});
$(document).on("keypress.6", function(six) {
});
$(document).on("keypress.7", function(seven) {
});
$(document).on("keypress.8", function(eight) {
});
$(document).on("keypress.9", function(nine) {
});
$(document).on("keypress.0", function(zero) {
});



// funtion code to play sound
$(document).on('keydown', function(e) {
    var key = (e.key);
    if (key === 'q') {
        playSound('assets/bubble-pop-06-351337.mp3');
    }
});
$(document).on('keydown', function(w) {
    var key = (w.key);
    if (key === 'w') {
        playSound('assets/buzzer-or-wrong-answer-20582.mp3');
    }
});
$(document).on('keydown', function(e) {
    var key = (e.key);
    if (key === 'e') {
        playSound('assets/camera-13695.mp3');
    }
});
$(document).on('keydown', function(r) {
    var key = (r.key);
    if (key === 'r') {
        playSound('assets/camera-flash-204151.mp3');
    }
});
$(document).on('keydown', function(t) {
    var key = (t.key);
    if (key === 't') {
        playSound('assets/car-crash-sound-effect-376874.mp3');
    }
});
$(document).on('keydown', function(y) {
    var key = (y.key);
    if (key === 'y') {
        playSound('\assets/car-engine-372477.mp3');
    }
});
$(document).on('keydown', function(y) {
    var key = (y.key);
    if (key === 'y') {
        playSound('assets/car-engine-372477.mp3');
    }
});
$(document).on('keydown', function(u) {
    var key = (u.key);
    if (key === 'u') {
        playSound('assets/car-pass-by-337871.mp3');
    }
});
$(document).on('keydown', function(i) {
    var key = (i.key);
    if (key === 'i') {
        playSound('assets/cash-register-kaching-sound-effect-125042.mp3');
    }
});
$(document).on('keydown', function(i) {
    var key = (i.key);
    if (key === 'i') {
        playSound('assets/cash-register-kaching-sound-effect-125042.mp3');
    }
});
$(document).on('keydown', function(o) {
    var key = (o.key);
    if (key === 'o') {
        playSound('assets/censor-beep-1-372459.mp3');
    }
});
$(document).on('keydown', function(p) {
    var key = (p.key);
    if (key === 'p') {
        playSound('assets/cinematic-impact-hit-352702.mp3');
    }
});
$(document).on('keydown', function(a) {
    var key = (a.key);
    if (key === 'a') {
        playSound('assets/cinematic-riser-03-414575.mp3');
    }
});
$(document).on('keydown', function(s) {
    var key = (s.key);
    if (key === 's') {
        playSound('assets/clock-ticking-down-376897.mp3');
    }
});
$(document).on('keydown', function(d) {
    var key = (d.key);
    if (key === 'd') {
        playSound('assets/close-door-382723.mp3');
    }
});
$(document).on('keydown', function(f) {
    var key = (f.key);
    if (key === 'f') {
        playSound('assets/computer-mouse-click-352734.mp3');
    }
});
$(document).on('keydown', function(g) {
    var key = (g.key);
    if (key === 'g') {
        playSound('assets/digital-glitch-sfx-438248.mp3');
    }
});
$(document).on('keydown', function(h) {
    var key = (h.key);
    if (key === 'h') {
        playSound('assets/efek-suara-funny-putri-lucu-180275.mp3');
    }
});
$(document).on('keydown', function(j) {
    var key = (j.key);
    if (key === 'j') {
        playSound('assets/error-126627.mp3');
    }
});
$(document).on('keydown', function(k) {
    var key = (k.key);
    if (key === 'k') {
        playSound('assets/glitch-sfx-312910.mp3');
    }
});
$(document).on('keydown', function(l) {
    var key = (l.key);
    if (key === 'l') {
        playSound('assets/glitch-sound-effect-hd-379466.mp3');
    }
});
$(document).on('keydown', function(z) {
    var key = (z.key);
    if (key === 'z') {
        playSound('assets/ground-impact-352053.mp3');
    }
});
$(document).on('keydown', function(x) {
    var key = (x.key);
    if (key === 'x') {
        playSound('assets/magic-03-278824.mp3');
    }
});
$(document).on('keydown', function(c) {
    var key = (c.key);
    if (key === 'c') {
        playSound('assets/new-notification-3-398649.mp3');
    }
});
$(document).on('keydown', function(v) {
    var key = (v.key);
    if (key === 'v') {
        playSound('assets/new-notification-09-352705.mp3');
    }
});
$(document).on('keydown', function(b) {
    var key = (b.key);
    if (key === 'b') {
        playSound('assets/pop-402323.mp3');
    }
});
$(document).on('keydown', function(n) {
    var key = (n.key);
    if (key === 'n') {
        playSound('assets/punch-03-352040.mp3');
    }
});
$(document).on('keydown', function(m) {
    var key = (m.key);
    if (key === 'm') {
        playSound('assets/punch-04-383965.mp3');
    }
});
$(document).on('keydown', function(one) {
    var key = (one.key);
    if (key === '1') {
        playSound('assets/sharp-pop-328170.mp3');
    }
});
$(document).on('keydown', function(two) {
    var key = (two.key);
    if (key === '2') {
        playSound('assets/short-digital-notification-alert-440353.mp3');
    }
});
$(document).on('keydown', function(three) {
    var key = (three.key);
    if (key === '3') {
        playSound('assets/simple-whoosh-382724.mp3');
    } 
});
$(document).on('keydown', function(four) {
    var key = (four.key);
    if (key === '4') {
        playSound('assets/stab-f-01-brvhrtz-224599.mp3');
    }
});
$(document).on('keydown', function(five) {
    var key = (five.key);
    if (key === '5') {
        playSound('assets/sus-meme-sound-181271.mp3');
    }
});
$(document).on('keydown', function(six) {
    var key = (six.key);
    if (key === '6') {
        playSound('assets/swish-swoosh-woosh-sfx-27-357164.mp3');
    }
});
$(document).on('keydown', function(seven) {
    var key = (seven.key);
    if (key === '7') {
        playSound('assets/swoosh-015-383769.mp3');
    }
});
$(document).on('keydown', function(eight) {
    var key = (eight.key);
    if (key === '8') {
        playSound('assets/sword-slice-393847.mp3');
    }
});
$(document).on('keydown', function(nine) {
    var key = (nine.key);
    if (key === '9') {
        playSound('assets/vinyl-stop-sound-effect-241388.mp3');
    }
});
$(document).on('keydown', function(zero) {
    var key = (zero.key);
    if (key === '0') {
        playSound('assets/water-splash-02-352021.mp3');
    }
});




// helper to play audio and surface errors to the console
function playSound(src) {
    if (!src) return;
    var audio = new Audio(src);
    audio.play().catch(function(err){
        console.warn('Audio play failed:', err);
    });
    return audio;
}

$(function() {
    // map keys to audio files
    const soundMap = {
        q: 'assets/bubble-pop-06-351337.mp3',
        w: 'assets/buzzer-or-wrong-answer-20582.mp3',
        e: 'assets/camera-13695.mp3',
        r: 'assets/camera-flash-204151.mp3',
        t: 'assets/car-crash-sound-effect-376874.mp3',
        y: 'assets/car-engine-372477.mp3',
        u: 'assets/car-pass-by-337871.mp3',
        i: 'assets/cash-register-kaching-sound-effect-125042.mp3',
        o: 'assets/censor-beep-1-372459.mp3',
        p: 'assets/cinematic-impact-hit-352702.mp3',
        a: 'assets/cinematic-riser-03-414575.mp3',
        s: 'assets/clock-ticking-down-376897.mp3',
        d: 'assets/close-door-382723.mp3',
        f: 'assets/computer-mouse-click-352734.mp3',
        g: 'assets/digital-glitch-sfx-438248.mp3',
        h: 'assets/efek-suara-funny-putri-lucu-180275.mp3',
        j: 'assets/error-126627.mp3',
        k: 'assets/glitch-sfx-312910.mp3',
        l: 'assets/glitch-sound-effect-hd-379466.mp3',
        z: 'assets/ground-impact-352053.mp3',
        x: 'assets/magic-03-278824.mp3',
        c: 'assets/new-notification-3-398649.mp3',
        v: 'assets/new-notification-09-352705.mp3',
        b: 'assets/pop-402323.mp3',
        n: 'assets/punch-03-352040.mp3',
        m: 'assets/punch-04-383965.mp3',
        '1': 'assets/sharp-pop-328170.mp3',
        '2': 'assets/short-digital-notification-alert-440353.mp3',
        '3': 'assets/simple-whoosh-382724.mp3',
        '4': 'assets/stab-f-01-brvhrtz-224599.mp3',
        '5': 'assets/sus-meme-sound-181271.mp3',
        '6': 'assets/swish-swoosh-woosh-sfx-27-357164.mp3',
        '7': 'assets/swoosh-015-383769.mp3',
        '8': 'assets/sword-slice-393847.mp3',
        '9': 'assets/vinyl-stop-sound-effect-241388.mp3',
        '0': 'assets/water-splash-02-352021.mp3'
    };

    // helper to play audio and surface errors to the console
    function playSound(src) {
        if (!src) return;
        const audio = new Audio(src);
        audio.play().catch(function(err){
            console.warn('Audio play failed:', err);
        });
        return audio;
    }

    // track which keys have been played at least once
    const played = new Set();
    const totalSounds = Object.keys(soundMap).length;

    // use existing HTML counter if present, otherwise create one
    let $counter = $('#found-counter');
    if ($counter.length === 0) {
        $counter = $('<div id="found-counter" aria-live="polite"></div>')
            .css({ color: '#fff', textAlign: 'center', marginTop: '8px', fontWeight: 40 })
            .text(`Found: 0 / ${totalSounds}`);
        $('header').length ? $('header').after($counter) : $('body').prepend($counter);
    } else {
        $counter.text(`Found: 0 / ${totalSounds}`);
    }

    function updateCounter() {
        $counter.text(`Found: ${played.size} / ${totalSounds}`);
        if (played.size === totalSounds) {
            $counter.text(`Found: ${played.size} / ${totalSounds} â€” All sounds found!`);
        }
    }

    // single keydown handler
    $(document).on('keydown', function(e) {
        // ignore if user is typing into an input/textarea
        const tag = (e.target && e.target.tagName) || '';
        if (tag === 'INPUT' || tag === 'TEXTAREA' || e.target.isContentEditable) return;

        const key = (e.key || '').toLowerCase();
        if (!key) return;

        if (Object.prototype.hasOwnProperty.call(soundMap, key)) {
            playSound(soundMap[key]);

            if (!played.has(key)) {
                played.add(key);
                updateCounter();
            }
        }
    });
});